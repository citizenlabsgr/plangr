<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multi-Modal Grand Rapids</title>
    <meta property="og:description" content="End the parking spiral." />
    <meta property="og:type" content="website" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸš—</text></svg>"
    />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body class="bg-slate-50 text-slate-900">
    <main class="max-w-md mx-auto px-2 py-2">
      <div>
        <!-- Step 1: Destination, Day and Time -->
        <section
          class="bg-white rounded-xl shadow-sm border border-slate-200 p-4 relative"
        >
          <button
            type="button"
            id="resetButton"
            class="absolute top-4 right-4 w-6 h-6 rounded flex items-center justify-center text-slate-400 hover:text-slate-600 hover:bg-slate-100 hidden"
            aria-label="Clear location"
            title="Clear location"
          >
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
              />
            </svg>
          </button>

          <div id="whereWhenContent">
            <h2 class="font-semibold text-lg">Where are you going?</h2>

            <label class="block mt-4 text-sm font-medium">Destination</label>
            <div class="mt-1 relative">
              <input
                id="destination"
                class="w-full rounded-lg border border-slate-300 px-3 py-2 bg-slate-100"
                value="Van Andel Arena"
                disabled
              />
            </div>

            <div
              class="mt-4 grid grid-cols-[1fr_1fr_auto] gap-3 items-end min-w-0"
            >
              <div class="min-w-0">
                <label class="block text-sm font-medium">Day</label>
                <select
                  id="daySelect"
                  class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 pr-10 bg-white appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 fill=%22none%22 viewBox=%220 0 20 20%22%3E%3Cpath stroke=%22%236b7280%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22 stroke-width=%221.5%22 d=%22M6 8l4 4 4-4%22/%3E%3C/svg%3E')] bg-[length:1.25rem_1.25rem] bg-[right_0.75rem_center] bg-no-repeat min-w-0"
                >
                  <option value="" disabled>---</option>
                  <option value="monday">Monday</option>
                  <option value="tuesday">Tuesday</option>
                  <option value="wednesday">Wednesday</option>
                  <option value="thursday">Thursday</option>
                  <option value="friday">Friday</option>
                  <option value="saturday">Saturday</option>
                  <option value="sunday">Sunday</option>
                </select>
              </div>

              <div class="min-w-0">
                <label class="block text-sm font-medium">Time</label>
                <select
                  id="timeSelect"
                  class="mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 pr-10 bg-white appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 fill=%22none%22 viewBox=%220 0 20 20%22%3E%3Cpath stroke=%22%236b7280%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22 stroke-width=%221.5%22 d=%22M6 8l4 4 4-4%22/%3E%3C/svg%3E')] bg-[length:1.25rem_1.25rem] bg-[right_0.75rem_center] bg-no-repeat"
                ></select>
              </div>

              <button
                type="button"
                id="saveButton"
                class="h-[42px] w-[42px] flex items-center justify-center bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-300 disabled:text-slate-500 disabled:cursor-not-allowed transition-colors"
                disabled
                title="Save and collapse"
                aria-label="Save and collapse"
              >
                <svg
                  class="w-5 h-5"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M5 13l4 4L19 7"
                  />
                </svg>
              </button>
            </div>
          </div>

          <div id="whereWhenMinimized" class="hidden">
            <button
              type="button"
              id="whereWhenExpand"
              class="w-full flex items-center justify-between text-sm font-medium text-slate-500 text-left hover:text-slate-700 cursor-pointer py-1"
              aria-label="Edit details"
              title="Edit details"
            >
              <div class="flex-1 text-left">
                <div
                  class="font-semibold text-slate-900 text-sm"
                  id="minimizedDestination"
                >
                  Van Andel Arena
                </div>
                <div class="text-xs text-slate-500 mt-0.5">
                  <span id="minimizedDay"></span>
                  <span id="minimizedTimeSeparator" class="mx-0.5 hidden"
                    >@</span
                  >
                  <span id="minimizedTime"></span>
                </div>
              </div>
              <svg
                class="ml-4 w-4 h-4 text-slate-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                />
              </svg>
            </button>
          </div>

          <!-- TODO: Show flexibility toggle when ready -->
          <button
            type="button"
            id="flexibilityToggle"
            class="hidden mt-4 w-full flex items-center justify-between text-sm font-medium text-slate-500 text-left hover:text-slate-700 cursor-pointer"
          >
            <span>Flexibility</span>
            <span id="flexibilityArrow">â–¼</span>
          </button>

          <div id="flexibilityContent" class="hidden mt-4">
            <div class="mt-2">
              <div class="flex items-center justify-between">
                <label class="text-sm font-medium"
                  >Willing to arrive early</label
                >
                <span class="text-sm text-slate-600">
                  <span id="earlyValue">-15</span> min
                </span>
              </div>
              <input
                id="earlySlider"
                type="range"
                min="0"
                max="60"
                step="5"
                value="15"
                class="w-full mt-2"
              />
            </div>

            <div class="mt-4">
              <div class="flex items-center justify-between">
                <label class="text-sm font-medium"
                  >Willing to arrive late</label
                >
                <span class="text-sm text-slate-600">
                  <span id="lateValue">+0</span> min
                </span>
              </div>
              <input
                id="lateSlider"
                type="range"
                min="0"
                max="60"
                step="5"
                value="0"
                class="w-full mt-2"
              />
            </div>
          </div>
        </section>

        <!-- Step 2: Mode + People + Sliders -->
        <section
          id="preferencesSection"
          class="bg-white rounded-xl shadow-sm border border-slate-200 p-4 mt-1 relative"
        >
          <button
            type="button"
            id="resetModesButton"
            class="absolute top-4 right-4 w-6 h-6 rounded flex items-center justify-center text-slate-400 hover:text-slate-600 hover:bg-slate-100 hidden"
            aria-label="Clear selected preferences"
            title="Clear selected preferences"
          >
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
              />
            </svg>
          </button>
          <h2 class="font-semibold text-lg">How will you get there?</h2>
          <div class="mt-2 grid grid-cols-3 gap-2">
            <button
              type="button"
              class="modeBtn rounded-lg border border-slate-300 py-2"
              data-mode="drive"
            >
              ğŸš— Drive
            </button>
            <button
              type="button"
              class="modeBtn rounded-lg border border-slate-300 py-2"
              data-mode="rideshare"
            >
              ğŸš• Uber/Lyft
            </button>
            <button
              type="button"
              class="modeBtn rounded-lg border border-slate-300 py-2"
              data-mode="transit"
            >
              ğŸšŒ The Rapid
            </button>
            <button
              type="button"
              class="modeBtn rounded-lg border border-slate-300 py-2"
              data-mode="shuttle"
            >
              ğŸš DASH
            </button>
            <button
              type="button"
              class="modeBtn rounded-lg border border-slate-300 py-2"
              data-mode="micromobility"
            >
              ğŸ›´ Lime
            </button>
            <button
              type="button"
              class="modeBtn rounded-lg border border-slate-300 py-2"
              data-mode="bike"
            >
              ğŸš² Bike
            </button>
          </div>

          <!-- Walk distance -->
          <div id="walkBlock" class="mt-4">
            <div class="flex items-center justify-between">
              <label class="text-sm font-medium">Willing to walk</label>
              <span class="text-sm text-slate-600">
                <span id="walkValue">0.5</span><span id="walkUnit"> miles</span>
                <span id="walkTime"
                  >(<span id="walkTimeValue">10</span> min)</span
                >
              </span>
            </div>
            <input
              id="walkSlider"
              type="range"
              min="0"
              max="1.5"
              step="0.1"
              value="0.5"
              class="w-full mt-2 disabled:opacity-50 disabled:cursor-not-allowed"
            />
          </div>

          <!-- Cost -->
          <div class="mt-4">
            <div class="flex items-center justify-between">
              <label id="costLabel" class="text-sm font-medium"
                >Willing to pay</label
              >
              <span class="text-sm text-slate-600">
                <span id="costPrefix">$</span><span id="costValue">10</span>
              </span>
            </div>
            <input
              id="costSlider"
              type="range"
              min="0"
              max="40"
              value="10"
              step="1"
              class="w-full mt-2 disabled:opacity-50 disabled:cursor-not-allowed"
            />
          </div>

          <!-- TODO: Show people toggle when ready -->
          <button
            type="button"
            id="peopleToggle"
            class="hidden mt-6 w-full flex items-center justify-between text-sm font-medium text-slate-500 text-left hover:text-slate-700 cursor-pointer"
          >
            <span>People</span>
            <span id="peopleArrow">â–¼</span>
          </button>

          <div id="peopleContent" class="hidden mt-4">
            <div class="flex items-center gap-2">
              <button
                class="w-10 h-10 rounded-lg border border-slate-300 bg-white"
                onclick="adjustPeople(-1)"
                aria-label="Decrease people"
              >
                âˆ’
              </button>
              <div
                id="peopleCount"
                class="flex-1 text-center font-semibold text-lg"
              >
                1
              </div>
              <button
                class="w-10 h-10 rounded-lg border border-slate-300 bg-white"
                onclick="adjustPeople(1)"
                aria-label="Increase people"
              >
                +
              </button>
            </div>
          </div>
        </section>

        <!-- Step 4: Results -->
        <div class="mt-6 -mx-2">
          <div id="results" class="space-y-2"></div>
        </div>
      </div>
    </main>

    <script src="script.js"></script>
  </body>
</html>
